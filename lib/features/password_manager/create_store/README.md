# Create Store Feature

Полнофункциональная форма создания хранилища с пошаговой валидацией и анимациями.

## Структура

```
lib/features/dashboard/create_store/
├── models/
│   └── create_store_state.dart          # Freezed модель состояния формы
├── providers/
│   └── create_store_form_provider.dart  # Riverpod провайдер управления формой
├── widgets/
│   ├── step1_name_description.dart      # Шаг 1: Имя и описание
│   ├── step2_select_path.dart           # Шаг 2: Выбор пути
│   ├── step3_master_password.dart       # Шаг 3: Мастер пароль
│   └── step4_confirmation.dart          # Шаг 4: Подтверждение
└── create_store_screen.dart             # Главный экран с навигацией
```

## Функционал

### Шаг 1: Имя и описание
- **Имя**: обязательное поле, 3-50 символов
- **Описание**: опциональное, до 500 символов
- Валидация на недопустимые символы в имени
- Подсказки для пользователя

### Шаг 2: Выбор пути
- **Стандартный путь**: автоматическое создание в директории приложения
- **Кастомный путь**: выбор через file_picker
- Отображение выбранного пути
- Рекомендации по размещению

### Шаг 3: Мастер пароль
- Два поля: пароль и подтверждение
- Требования:
  - Минимум 8 символов
  - Заглавные и строчные буквы
  - Цифры
  - Специальные символы
- Индикатор сложности пароля (Слабый/Средний/Хороший/Отличный)
- Визуальная проверка всех требований
- Предупреждение о невозможности восстановления

### Шаг 4: Подтверждение
- Отображение всех введенных данных
- Скрытый пароль с галочкой подтверждения
- Финальные предупреждения
- Кнопка создания хранилища

## Анимации

- Плавные переходы между шагами через `PageView`
- Индикатор прогресса с визуализацией текущего шага
- Линейный прогресс-бар
- Анимированные изменения состояния кнопок

## Валидация

Кнопка "Далее" блокируется если:
- **Шаг 1**: имя пустое или содержит ошибки
- **Шаг 2**: кастомный путь выбран но не указан
- **Шаг 3**: пароль не соответствует требованиям или пароли не совпадают
- **Шаг 4**: всегда доступна

## Интеграция

Использует `MainStoreAsyncNotifier` для создания:

```dart
final success = await ref.read(mainStoreProvider.notifier).createStore(dto);
```

Обрабатывает состояния:
- **Loading**: отображается индикатор на кнопке
- **Success**: показывает toast, закрывает форму
- **Error**: показывает error toast с описанием

## Использование

```dart
// В роутере
GoRoute(
  path: '/create-store',
  builder: (context, state) => const CreateStoreScreen(),
),

// Навигация
context.push('/create-store');
```

## Зависимости

- `flutter_riverpod` - управление состоянием
- `freezed` - immutable модели
- `file_picker` - выбор директории
- `go_router` - навигация

## Особенности

1. **Изоляция состояния**: форма использует собственный провайдер, не влияет на глобальное состояние до создания
2. **Подтверждение отмены**: диалог при попытке закрыть с потерей данных
3. **Доступность**: правильные `textInputAction` для навигации клавиатурой
4. **Адаптивность**: использует theme colors для корректного отображения в светлой/темной теме
5. **Логирование**: все важные действия логируются через `AppLogger`
